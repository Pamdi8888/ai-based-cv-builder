<div class="container-fluid d-flex justify-content-center align-items-center" id="htmlData">
  <div class="w-100">
    <form [formGroup]="mainForm" (ngSubmit)="onSubmit()">


      <!-- Personal Details Section -->
      <div class="mt-3">
        <h5 class="mb-2 btn btn-dark">Personal Details</h5>
        <div class="d-flex gap-0 row">
          <div class="form-group col-12 col-md-4 mt-2">
            <input type="text" class="form-control" formControlName="full_name" placeholder="Full Name" [class.is-invalid]="mainForm.get('full_name')?.invalid && mainForm.get('full_name')?.touched">
            <div *ngIf="mainForm.get('full_name')?.invalid && mainForm.get('full_name')?.touched">
              <small class="text-danger" *ngIf="mainForm.get('full_name')?.errors?.['required']">Full name is required</small>
              <small class="text-danger" *ngIf="mainForm.get('full_name')?.errors?.['minlength']">Full name must contain minimum 3 letters</small>
            </div>
          </div>
          <div class="form-group col-12 col-md-4 mt-2">
            <input type="date" class="form-control" formControlName="date_of_birth" placeholder="Date of Birth" [class.is-invalid]="mainForm.get('date_of_birth')?.invalid && mainForm.get('date_of_birth')?.touched">
            <div *ngIf="mainForm.get('date_of_birth')?.invalid && mainForm.get('date_of_birth')?.touched">
              <small class="text-danger" *ngIf="mainForm.get('date_of_birth')?.errors?.['required']">Date of birth is required</small>
            </div>
          </div>
          <div class="form-group col-12 col-md-4 mt-2">
            <input type="email" class="form-control" formControlName="mail" placeholder="Email" [class.is-invalid]="mainForm.get('mail')?.invalid && mainForm.get('mail')?.touched">
            <div *ngIf="mainForm.get('mail')?.invalid && mainForm.get('mail')?.touched">
              <small class="text-danger" *ngIf="mainForm.get('mail')?.errors?.['required']">Email is required</small>
              <small class="text-danger" *ngIf="mainForm.get('mail')?.errors?.['email']">Email is not valid</small>
            </div>
          </div>

          <div class="form-group col-12 col-md-4 mt-2">
            <input type="tel" class="form-control" formControlName="phone" placeholder="Phone">
            <div *ngIf="mainForm.get('phone')?.invalid && mainForm.get('phone')?.touched">
              <small>Phone number is required</small>
            </div>
          </div>
      
          <div class="form-group col-12 col-md-4 mt-2">
            <input type="text" class="form-control" formControlName="profession" placeholder="Profession">
            <div *ngIf="mainForm.get('profession')?.invalid && mainForm.get('profession')?.touched">
              <small>Profession is required</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Languages Section -->
      <div class="mt-3">
        <h5 class="mb-2 btn btn-dark">Languages</h5>
        <div formArrayName="languages">
          <div *ngFor="let lang of languagesFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
            <div class="form-group col-6">
              <input type="text" class="form-control" formControlName="language" placeholder="Language">
            </div>
            <div class="form-group col-6">
              <input type="text" class="form-control" formControlName="proficiency" placeholder="Proficiency">
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-secondary mt-2" (click)="addLanguage()">Add Language</button>
      </div>

      <!--Photograph and Organization Photograph sections : -->
<div class="row mt-3">
  <div class="col-md-6">
    <h5 id="photograph" class="mb-2 btn btn-dark">Photograph</h5>
    <div class="row">
      <div class="col-12">
        <div class="input-group">
          <input type="file" class="form-control" (change)="onFileSelected($event)" accept=".jpg,.jpeg" id="photographInput">
          <label class="input-group-text" for="photographInput">Upload</label>
        </div>
      </div>
    </div>
    <small>Please upload a .jpg or .jpeg file.</small>
  </div>
  
  <div class="col-md-6">
    <h5 id="organization-photograph" class="mb-2 btn btn-dark">Organization Photograph</h5>
    <div class="row">
      <div class="col-12">
        <div class="input-group">
          <input type="file" class="form-control" (change)="onOrganizationFileSelected($event)" accept=".jpg,.jpeg" id="orgPhotoInput">
          <label class="input-group-text" for="orgPhotoInput">Upload</label>
        </div>
      </div>
    </div>
    <small>Please upload a .jpg or .jpeg file.</small>
  </div>
</div>

      <!-- Education Section -->
      <div class="mt-3">
        <h5 class="mb-2 btn btn-dark">Education</h5>
        <div class="d-flex gap-0 row">
          <div formArrayName="education">
            <div *ngFor="let edu of educationFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
              <div class="form-group col-12 col-md-4 mt-2">
                <input type="number" class="form-control" formControlName="grad_year" placeholder="Graduation Year">
              </div>
              <div class="form-group col-12 col-md-4 mt-2">
                <input type="text" class="form-control" formControlName="percentage_cgpa" placeholder="Percentage/CGPA">
              </div>
             <div class="form-group col-12 col-md-4 mt-2">
                <input type="text" class="form-control" formControlName="specialization" placeholder="Specialization">
              </div>
             <div class="form-group col-12 col-md-4 mt-2">
                <input type="text" class="form-control" formControlName="institution" placeholder="Institution">
              </div>
              <div class="form-group col-12 col-md-4 mt-2">
                <input type="text" class="form-control" formControlName="board_university" placeholder="Board/University">
              </div>
            </div>
            <button type="button" class="btn btn-secondary mt-2" (click)="addEducation()">Add Education</button>
          </div>
        </div>
      </div>


   
      <!--  Skills and Subjects sections: -->
<div class="row mt-3">
  <div class="col-md-6">
    <h5 id="subjects" class="mb-2 btn btn-dark">Subjects</h5>
    <div formArrayName="subjects">
      <div class="row mt-2" *ngFor="let subject of subjectsFormArray.controls; let i = index" [formGroupName]="i">
        <div class="form-group col-12">
          <input type="text" class="form-control" formControlName="subject" placeholder="Enter subject">
        </div>
      </div>
    </div>
    <button class="btn btn-secondary mt-2" type="button" (click)="addSubject()">Add Subject</button>
  </div>
  
  <div class="col-md-6">
    <h5 id="skills" class="mb-2 btn btn-dark">Skills</h5>
    <div formArrayName="skills">
      <div class="row mt-2" *ngFor="let skill of skillsFormArray.controls; let i = index" [formGroupName]="i">
        <div class="form-group col-12">
          <input type="text" class="form-control" formControlName="skill" placeholder="Enter skill">
        </div>
      </div>
    </div>
    <button class="btn btn-secondary mt-2" type="button" (click)="addSkill()">Add Skill</button>
  </div>
</div>


<!-- Projects Section -->
<div class="mt-3">
<h5 class="mb-2 btn btn-dark">Projects</h5>
<div formArrayName="projects">
  <div *ngFor="let project of projectsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-4">
      <input type="text" class="form-control" formControlName="title" placeholder="Project Title">
    </div>
    <div class="form-group col-6 col-md-4">
      <input type="text" class="form-control" formControlName="domain" placeholder="Domain">
    </div>
    <div class="form-group col-6 col-md-4">
      <input type="text" class="form-control" formControlName="duration" placeholder="Duration">
    </div>
    <div class="form-group col-12">
      <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
    </div>
    <div class="form-group col-12">
      <input type="url" class="form-control" formControlName="url" placeholder="Project URL">
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addProject()">Add Project</button>
</div>

<!-- Social Accounts Section -->
<div class="mt-3">
<h5 class="mb-2 btn btn-dark">Social Accounts</h5>
<div formArrayName="social_accounts">
  <div *ngFor="let account of socialAccountsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6">
      <input type="text" class="form-control" formControlName="name" placeholder="Platform Name">
    </div>
    <div class="form-group col-6">
      <input type="url" class="form-control" formControlName="url" placeholder="Profile URL">
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addSocialAccount()">Add Social Account</button>
</div>



<!--  Work Experience and Volunteer Activities sections : -->
<div class="row mt-3">
  <div class="col-md-6">
    <h5 id="work-experience" class="mb-2 btn btn-dark">Work Experience</h5>
    <div formArrayName="work_experience">
      <div class="row mt-2" *ngFor="let exp of workExperienceFormArray.controls; let i = index" [formGroupName]="i">
        <div class="form-group col-6 col-md-3">
          <input type="text" class="form-control" formControlName="role" placeholder="Role">
        </div>
        <div class="form-group col-6 col-md-4">
          <input type="text" class="form-control" formControlName="duration" placeholder="Duration">
        </div>
        <div class="form-group col-6 col-md-3">
          <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
        </div>
        <div class="form-group col-12">
          <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
        </div>
      </div>
    </div>
    <button class="btn btn-secondary mt-2" type="button" (click)="addWorkExperience()">Add Work Experience</button>
  </div>
  
  <div class="col-md-6">
    <h5 id="volunteer-activities" class="mb-2 btn btn-dark">Volunteer Activities</h5>
    <div formArrayName="volunteer_activities">
      <div class="row mt-2" *ngFor="let activity of volunteerActivitiesFormArray.controls; let i = index" [formGroupName]="i">
        <div class="form-group col-6 col-md-3">
          <input type="text" class="form-control" formControlName="role" placeholder="Role">
        </div>
        <div class="form-group col-6 col-md-3">
          <input type="text" class="form-control" formControlName="date" placeholder="Date">
        </div>
        <div class="form-group col-6 col-md-3">
          <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
        </div>
        <div class="form-group col-12">
          <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
        </div>
      </div>
    </div>
    <button class="btn btn-secondary mt-2" type="button" (click)="addVolunteerActivity()">Add Volunteer Activity</button>
  </div>
</div>

<!-- Accomplishments Section and  Positions of Responsibility Section -->
<div class="row mt-3">
  <div class="col-md-6">
<h5 class="mb-2 btn btn-dark">Accomplishments</h5>
<div formArrayName="accomplishments">
  <div *ngFor="let accomplishment of accomplishmentsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="name" placeholder="Name">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="date" placeholder="Date">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
    </div>
    <div class="form-group col-12">
      <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addAccomplishment()">Add Accomplishment</button>
</div>

<div class="col-md-6">
<h5 class="mb-2 btn btn-dark">Positions of Responsibility</h5>
<div formArrayName="positions_of_responsibility">
  <div *ngFor="let position of positionsOfResponsibilityFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="role" placeholder="Role">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="date" placeholder="Date">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
    </div>
    <div class="form-group col-12">
      <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addPositionOfResponsibility()">Add Position of Responsibility</button>
</div>
</div>


<!-- Competitions Section and Conferences and Workshops Section -->
<div class="row mt-3">
  <div class="col-md-6">
<h5 class="mb-2 btn btn-dark">Competitions</h5>
<div formArrayName="competitions">
  <div *ngFor="let comp of competitionsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="name" placeholder="Name">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="date" placeholder="Date">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
    </div>
    <div class="form-group col-12">
      <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addCompetition()">Add Competition</button>
</div>

<div class="col-md-6">
<h5 class="mb-2 btn btn-dark">Conferences and Workshops</h5>
<div formArrayName="conferences_workshops">
  <div *ngFor="let conf of conferencesWorkshopsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="name" placeholder="Name">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="date" placeholder="Date">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
    </div>
    <div class="form-group col-12">
      <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addConferenceWorkshop()">Add Conference/Workshop</button>
</div>
</div>


<!-- Certifications Section and  Test Scores Section --> 
<div class="row mt-3">
  <div class="col-md-6">
  <h5 class="mb-2 btn btn-dark">Certifications</h5>
  <div formArrayName="certifications">
    <div *ngFor="let cert of certificationsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
      <div class="form-group col-6 col-md-4">
        <input type="text" class="form-control" formControlName="name" placeholder="Certification Name">
      </div>
      <div class="form-group col-6 col-md-4">
        <input type="text" class="form-control" formControlName="date" placeholder="Date">
      </div>
      <div class="form-group col-6 col-md-4">
        <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
      </div>
    </div>
  </div>
  <button type="button" class="btn btn-secondary mt-2" (click)="addCertification()">Add Certification</button>
  </div>
  
<div class="col-md-6">
<h5 class="mb-2 btn btn-dark">Test Scores</h5>
<div formArrayName="test_scores">
  <div *ngFor="let score of testScoresFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-4">
      <input type="text" class="form-control" formControlName="name" placeholder="Test Name">
    </div>
    <div class="form-group col-6 col-md-4">
      <input type="text" class="form-control" formControlName="date" placeholder="Date">
    </div>
    <div class="form-group col-6 col-md-4">
      <input type="text" class="form-control" formControlName="score" placeholder="Score">
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addTestScore()">Add Test Score</button>
</div>
</div>

<!-- Patents and Publications Section  Scholarships-->
<div class="row mt-3">
  <div class="col-md-6">
<h5 class="mb-2 btn btn-dark">Patents and Publications</h5>
<div formArrayName="patents_publications">
  <div *ngFor="let patent of patentsPublicationsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="name" placeholder="Name">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="date" placeholder="Date">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
    </div>
    <div class="form-group col-12">
      <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addPatentPublication()">Add Patent/Publication</button>
</div>



  <div class="col-md-6">
<h5 class="mb-2 btn btn-dark">Scholarships</h5>
<div formArrayName="scholarships">
  <div *ngFor="let scholarship of scholarshipsFormArray.controls; let i = index" [formGroupName]="i" class="row mt-2">
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="name" placeholder="Scholarship Name">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="date" placeholder="Date">
    </div>
    <div class="form-group col-6 col-md-3">
      <input type="text" class="form-control" formControlName="organization" placeholder="Organization">
    </div>
    <div class="form-group col-12">
      <textarea class="form-control" formControlName="description" placeholder="Description"></textarea>
    </div>
  </div>
</div>
<button type="button" class="btn btn-secondary mt-2" (click)="addScholarship()">Add Scholarship</button>
</div>
</div>



<div class="mt-3">
<h5 id="select-format" class="mb-2 btn btn-dark">Select Format</h5>
<div class="form-group">
  <select formControlName="format" class="form-select">
    <option value="">Select a format</option>
    <option value="1">Professional</option>
    <option value="2">Relaxed</option>
  </select>
  <div *ngIf="mainForm.get('format')?.invalid && mainForm.get('format')?.touched" class="text-danger">
    <small>Format selection is required</small>
  </div>
</div>
</div>

<div class="d-grid mt-4">
  <button type="submit" class="btn btn-primary">Submit</button>
</div>
</form>
</div>
</div>
